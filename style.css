:root{
  --bg: #0f1724;
  --card: #ffffff;
  --muted: #6b7280;
  --accent-1: #FFB3BA;
  --accent-2: #FFDFBA;
  --accent-3: #FFFFBA;
  --accent-4: #BAFFC9;
  --accent-5: #BAE1FF;
  --accent-6: #E2BAFF;
  --glass: rgba(255,255,255,0.06);
  --warn: #ff6b6b;
}

*{box-sizing:border-box}
body{
  font-family: Inter, Arial, sans-serif;
  margin:0;
  background: linear-gradient(180deg,#f7fbff,#fff7fb);
  color:#0f1724;
  min-height:100vh;
  display:flex;
  flex-direction:column;
  gap:20px;
  padding:20px;
}

.container{margin:0 auto;width:100%}

.site-header{
  background: linear-gradient(90deg,#ff9a9e 0%, #fecfef 50%, #f6ffcb 100%);
  padding:14px;
  border-radius:10px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.08);
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.top-nav .nav-link{background:rgba(255,255,255,0.8);padding:6px 10px;border-radius:8px;text-decoration:none;color:#222}

.card{
  background: var(--card);
  padding:12px;
  border-radius:8px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.06);
}

.card.small{display:inline-block;padding:8px;margin-bottom:6px}

.milestone-grid{display:flex;flex-wrap:wrap;gap:12px;margin-bottom:6px}
.milestone-box{flex:1 1 180px;min-width:220px;padding:12px;border-radius:8px;background:linear-gradient(180deg,rgba(255,255,255,0.95),rgba(255,255,255,0.9));box-shadow:0 4px 12px rgba(0,0,0,0.04)}
.milestone-box h3{margin:0 0 6px 0}
.lead{font-weight:600;color:var(--muted);margin-bottom:8px}
.milestone-entry{font-size:0.9rem;margin-bottom:8px}

.resourcing-setup{margin-top:8px;padding:6px;border-radius:6px;background:rgba(250,250,250,0.9);border:1px solid rgba(0,0,0,0.03)}
.resourcing-row{display:flex;gap:6px;align-items:center}
.resourcing-row label{font-size:0.85rem;color:var(--muted);min-width:70px}
.resourcing-row input{width:60px;padding:6px;border-radius:6px;border:1px solid rgba(0,0,0,0.08)}

.weekly-row{
  display:flex;
  flex-wrap:wrap;
  gap:12px;
  padding:8px 4px;
  align-items:flex-start;
  justify-content:space-between;
}

.weekly-category{
  flex:1 1 18%;
  min-width:220px;
  max-width:360px;
  padding:12px;
  border-radius:10px;
  background:linear-gradient(180deg, rgba(255,255,255,0.98), rgba(255,255,255,0.96));
  box-shadow: 0 6px 14px rgba(0,0,0,0.06);
  display:flex;
  flex-direction:column;
  gap:8px;
  border: 2px solid rgba(0,0,0,0.03);
}

.weekly-category h3{margin:0;padding-bottom:4px}
.weekly-entries{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:6px}
.weekly-entries li{background:rgba(0,0,0,0.03);padding:8px;border-radius:8px;font-size:0.95rem;cursor:pointer}

.add-task-btn{cursor:pointer;padding:8px;border-radius:8px;border:none;background:linear-gradient(90deg,#667eea,#764ba2);color:#fff;font-weight:600}

.task-assign{display:flex;gap:6px;align-items:center}
.task-assign select{flex:1;padding:6px;border-radius:6px;border:1px solid rgba(0,0,0,0.06)}
.task-assign input{width:90px;padding:6px;border-radius:6px;border:1px solid rgba(0,0,0,0.06)}

.palette-1{border-top:6px solid var(--accent-1)} 
.palette-2{border-top:6px solid var(--accent-2)} 
.palette-3{border-top:6px solid var(--accent-3)} 
.palette-4{border-top:6px solid var(--accent-4)} 
.palette-5{border-top:6px solid var(--accent-5)} 

/* resourcing grid */
#quarterly-resourcing {margin-top:12px}
.resourcing-table{width:100%;border-collapse:collapse;font-size:0.9rem;margin-bottom:8px}
.resourcing-table th,.resourcing-table td{border:1px solid rgba(0,0,0,0.05);padding:6px;text-align:center}
.resourcing-table th{background:linear-gradient(90deg,#ff9a9e,#f6ffcb)}

/* Resourcing bars */
#resourcing-bars {margin-top:10px;display:flex;flex-direction:column;gap:8px}
.resourcing-bar-wrapper{position:relative;height:28px;background:#f0f0f0;border-radius:8px;overflow:hidden}
.resourcing-bar{height:100%;transition:width 0.3s;background:linear-gradient(90deg,#7ee7ad,#5aa0ff)}
.resourcing-bar.over{background:linear-gradient(90deg,#ffb3b3,#ff6b6b)}
.resourcing-bar-wrapper span{position:absolute;left:10px;top:0;line-height:28px;font-size:0.85rem;color:#111;font-weight:600}

.daily-row{
  display:flex;
  flex-wrap:wrap;
  gap:12px;
  padding:8px 4px;
  align-items:flex-start;
  justify-content:space-evenly;
}

.person-box{
  flex:1 1 280px;
  max-width:350px;
  padding:12px;
  border-radius:10px;
  background:linear-gradient(180deg,rgba(255,255,255,0.98),rgba(250,250,255,0.98));
  box-shadow: 0 8px 20px rgba(0,0,0,0.06);
  display:flex;
  flex-direction:column;
  gap:8px;
  border-left:6px solid rgba(0,0,0,0.04);
}

.person-header{display:flex;justify-content:space-between;align-items:center}
.person-header h4{margin:0;font-size:1rem}
.person-box label{font-size:0.8rem;color:var(--muted)}

.yesterday, .today {min-height:60px;padding:8px;border-radius:8px;border:1px solid rgba(0,0,0,0.06);resize:vertical;background:#fff}

.site-footer{text-align:center;color:var(--muted);padding:6px}
@media (max-width:720px){ .milestone-grid{flex-direction:column}}

/* Quarterly resourcing bars with inside labels */
.resourcing-table td { position: relative; padding: 8px; min-width: 120px; }
.res-cell { display:flex; flex-direction:column; gap:6px; align-items:center; }
.res-bar {
  width: 0%;
  height: 22px;
  border-radius: 6px;
  overflow: hidden;
  position: relative;
  transition: width 0.35s ease;
  background: rgba(0,0,0,0.06);
  min-width: 80px;
  display:flex;
  align-items:center;
  justify-content:center;
}
.res-bar .res-label {
  color: #fff;
  font-size: 0.85rem;
  font-weight:700;
  text-shadow: 0 1px 2px rgba(0,0,0,0.25);
  pointer-events: none;
}
/* Palette mapping via classes for fallback */
.res-bar.mat { background: var(--accent-1); }
.res-bar.fab { background: var(--accent-2); }
.res-bar.dur { background: var(--accent-3); }
.res-bar.scl { background: var(--accent-4); }
.res-bar.opr { background: var(--accent-5); }

/* Small gray empty bar when value is 0 */
.res-bar.zero { background: linear-gradient(90deg, rgba(0,0,0,0.03), rgba(0,0,0,0.02)); color:#111; }

/* Popup editor */
.res-edit-popup {
  position: absolute;
  min-width: 180px;
  background: #ffffff;
  border-radius: 8px;
  padding: 10px;
  box-shadow: 0 8px 24px rgba(16,24,40,0.12);
  z-index: 9999;
  font-size: 0.95rem;
  display:flex;
  flex-direction:column;
  gap:8px;
}
.res-edit-popup label { font-weight:600; color: #111; }
.res-edit-popup input[type='number']{ width:100%; padding:6px; border-radius:6px; border:1px solid rgba(0,0,0,0.08); }
.res-edit-popup .popup-actions{ display:flex; gap:8px; justify-content:flex-end; }
.res-edit-popup .popup-actions button{ padding:6px 10px; border-radius:6px; border:none; cursor:pointer; font-weight:600; }
.res-edit-popup .save-res{ background: linear-gradient(90deg,#6EE7B7,#3B82F6); color:#fff; }
.res-edit-popup .cancel-res{ background: #f3f4f6; color:#111; }

/* Ensure popup doesn't wrap weirdly on small screens */
@media (max-width:720px){
  .res-edit-popup { left: 8px !important; right: 8px !important; top: auto !important; bottom: 8px !important; }
}
/* === Quarterly Resourcing Table === */
.resourcing-table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 10px;
  text-align: center;
  table-layout: fixed; /* ensures consistent column widths */
}

/* ✅ Fix: remove spaces before pseudo-classes and add commas between selectors */
.resourcing-table th:nth-child(1),
.resourcing-table td:nth-child(1) {
  width: 20%;
  min-width: 120px;
  text-align: left;
  padding-left: 10px;
}

.resourcing-table th:nth-child(2),
.resourcing-table td:nth-child(2) {
  width: 80%;
  min-width: 300px;
}

/* ✅ Fix: combine th and td common styles properly */
.resourcing-table th,
.resourcing-table td {
  font-weight: 600;
  color: #1e293b;
  background: rgba(255,255,255,0.7);
  padding: 6px 8px;
  border-bottom: 1px solid rgba(0,0,0,0.05);
}

/* === Resourcing Bar Styles === */
.res-bar-row {
  width: 100%;
  height: 24px;
  display: flex;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: inset 0 0 4px rgba(0,0,0,0.1);
}

.res-bar-segment {
  height: 100%;
  transition: width 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.8rem;
  color: #111;
  font-weight: 600;
}


.res-label {
  mix-blend-mode: difference;
}

/* palette matching milestone colors */
.palette-1-bg { background: var(--accent-1); }
.palette-2-bg { background: var(--accent-2); }
.palette-3-bg { background: var(--accent-3); }
.palette-4-bg { background: var(--accent-4); }
.palette-5-bg { background: var(--accent-5); }

/* popup remains the same */
.res-edit-popup {
  position: absolute;
  background: #fff;
  border: 1px solid rgba(0,0,0,0.1);
  border-radius: 10px;
  padding: 10px;
  box-shadow: 0 4px 18px rgba(0,0,0,0.1);
  z-index: 9999;
}
.res-edit-popup h4 {
  font-size: 1rem;
  margin-bottom: 6px;
  color: #111;
}

.popup-slider {
  accent-color: #3b82f6;
  cursor: pointer;
}

.popup-slider.palette-1-bg { accent-color: var(--accent-1); }
.popup-slider.palette-2-bg { accent-color: var(--accent-2); }
.popup-slider.palette-3-bg { accent-color: var(--accent-3); }
.popup-slider.palette-4-bg { accent-color: var(--accent-4); }
.popup-slider.palette-5-bg { accent-color: var(--accent-5); }

.res-popup-row {
  transition: background 0.15s ease;
}
.res-popup-row:hover {
  background: rgba(0,0,0,0.03);
  border-radius: 6px;
}
